<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∏ä‡πà‡∏≠‡∏î‡∏≠‡∏Å‡πÄ‡∏î‡∏ã‡∏µ‡πà‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå üíê</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡πÑ‡∏•‡πà‡πÄ‡∏â‡∏î‡∏ô‡∏∏‡πà‡∏°‡πÜ */
            background: linear-gradient(135deg, #fff0f5 0%, #ffb7b2 100%);
            overflow: hidden;
            display: flex;
            justify_content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Sarabun', sans-serif;
            touch-action: none;
        }

        canvas {
            background: transparent;
            /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏•‡∏≠‡∏¢‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏ô‡∏¥‡∏î‡πÜ */
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.15)); 
        }

        .card-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify_content: center;
            align-items: center;
        }

        .replay-btn {
            position: absolute;
            bottom: 30px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            color: #d65db1;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            font-family: 'Sarabun', sans-serif;
            font-weight: bold;
            transition: transform 0.2s;
            z-index: 10;
        }
        .replay-btn:hover {
            transform: scale(1.05);
            background: #fff;
        }
    </style>
    <!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏≠‡∏ô‡∏ï‡πå Great Vibes ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤ -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Sarabun:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>

    <div class="card-container">
        <canvas id="valentineCanvas"></canvas>
        <button class="replay-btn" onclick="drawStaticScene()">‡∏à‡∏±‡∏î‡∏ä‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà üíê</button>
    </div>

    <script>
        const canvas = document.getElementById('valentineCanvas');
        const ctx = canvas.getContext('2d');

        let width, height, cx, cy;
        let scaleFactor = 1;

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            const dpr = window.devicePixelRatio || 1;
            
            canvas.width = width * dpr;
            canvas.height = height * dpr;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            
            ctx.scale(dpr, dpr);
            
            cx = width / 2;
            cy = height / 2;
            scaleFactor = Math.min(width, height) / 650; // ‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
            
            // ‡∏ß‡∏≤‡∏î‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏≠
            drawStaticScene();
        }
        
        window.addEventListener('resize', resize);

        // --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏î (High Quality Mode) ---

        function drawWrappingPaper(x, y, scale) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);

            const paperColor = "#FFF5E1"; // Creamy White
            const shadowColor = "#EED9B8"; // Darker Cream

            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡∏ü‡∏∏‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©
            ctx.shadowColor = "rgba(0,0,0,0.1)";
            ctx.shadowBlur = 20;

            // Back Layer
            ctx.beginPath();
            ctx.moveTo(-190, -130); 
            ctx.lineTo(190, -150);  
            ctx.lineTo(80, 240);    
            ctx.lineTo(-80, 240);   
            ctx.closePath();
            ctx.fillStyle = shadowColor;
            ctx.fill();

            // Front Layers
            ctx.shadowBlur = 10; // ‡∏•‡∏î‡πÄ‡∏á‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏±‡πâ‡∏ô‡∏´‡∏ô‡πâ‡∏≤
            
            // Left Fold
            ctx.beginPath();
            ctx.moveTo(0, 240);
            ctx.quadraticCurveTo(-220, 0, -190, -170); 
            ctx.lineTo(-60, 100);
            ctx.closePath();
            ctx.fillStyle = paperColor;
            ctx.fill();

            // Right Fold
            ctx.beginPath();
            ctx.moveTo(0, 240);
            ctx.quadraticCurveTo(220, 0, 190, -180); 
            ctx.lineTo(60, 100);
            ctx.closePath();
            ctx.fillStyle = paperColor;
            ctx.fill();

            // Center Detail
            ctx.beginPath();
            ctx.moveTo(-80, 240);
            ctx.quadraticCurveTo(0, 180, 80, 240);
            ctx.lineTo(0, 290); 
            ctx.closePath();
            ctx.fillStyle = "#FDFBF7";
            ctx.fill();

            ctx.restore();
        }

        function drawStemHandle(x, y, scale) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Masking ‡πÉ‡∏´‡πâ‡∏Å‡πâ‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Å‡∏£‡∏≠‡∏ö
            ctx.beginPath();
            ctx.rect(-100, -100, 200, 400);
            ctx.clip();

            ctx.lineCap = "round";
            // ‡∏ß‡∏≤‡∏î‡∏Å‡πâ‡∏≤‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ
            for(let i=0; i<25; i++) { 
                ctx.beginPath();
                let sx = (Math.random() - 0.5) * 70;
                let ex = sx * 0.6; 
                
                ctx.moveTo(sx, 0);
                ctx.lineTo(ex, 160);
                
                ctx.lineWidth = 4 + Math.random() * 2;
                // ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏•‡πà‡πÄ‡∏â‡∏î
                ctx.strokeStyle = Math.random() > 0.5 ? "#556B2F" : "#6B8E23"; 
                ctx.stroke();
            }
            ctx.restore();
        }

        function drawRibbon(x, y, scale) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);

            const ribbonColor = "#D2B48C"; // Tan/Gold

            // ‡πÄ‡∏á‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏ö‡∏ß‡πå
            ctx.shadowColor = "rgba(0,0,0,0.2)";
            ctx.shadowBlur = 10;
            ctx.shadowOffsetY = 5;

            // ‡∏õ‡∏°
            ctx.fillStyle = ribbonColor;
            ctx.beginPath();
            ctx.arc(0, 0, 10, 0, Math.PI*2);
            ctx.fill();

            ctx.strokeStyle = ribbonColor;
            ctx.lineWidth = 8;
            ctx.lineCap = "round";

            // ‡∏´‡∏π‡∏ã‡πâ‡∏≤‡∏¢
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.bezierCurveTo(-40, -30, -70, 20, -10, 30);
            ctx.stroke();
            
            // ‡∏´‡∏π‡∏Ç‡∏ß‡∏≤
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.bezierCurveTo(40, -30, 70, 20, 10, 30);
            ctx.stroke();

            // ‡∏´‡∏≤‡∏á‡∏¢‡∏≤‡∏ß‡πÜ
            ctx.lineWidth = 7;
            ctx.beginPath();
            ctx.moveTo(0, 5);
            ctx.quadraticCurveTo(-20, 70, -35, 120);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(0, 5);
            ctx.quadraticCurveTo(20, 80, 40, 110);
            ctx.stroke();

            ctx.restore();
        }

        function drawLeaf(x, y, scale, rotation) {
            ctx.save();
            ctx.translate(x, y);
            ctx.rotate(rotation);
            ctx.scale(scale, scale);

            // ‡πÉ‡∏ö‡πÑ‡∏°‡πâ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏î
            const leafGrad = ctx.createLinearGradient(0, 0, 40, -60);
            leafGrad.addColorStop(0, "#4a7023"); 
            leafGrad.addColorStop(1, "#8FBC8F");

            ctx.fillStyle = leafGrad;
            
            // ‡πÄ‡∏á‡∏≤‡πÉ‡∏ö‡πÑ‡∏°‡πâ
            ctx.shadowColor = "rgba(0,0,0,0.1)";
            ctx.shadowBlur = 5;

            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.quadraticCurveTo(30, -20, 40, -70);
            ctx.quadraticCurveTo(0, -50, 0, 0);
            ctx.fill();

            ctx.restore();
        }

        function drawDaisy(x, y, scale, rotation) {
            ctx.save();
            ctx.translate(x, y);
            ctx.rotate(rotation);
            ctx.scale(scale, scale);

            // --- 1. ‡πÄ‡∏á‡∏≤‡∏à‡∏£‡∏¥‡∏á (Real Drop Shadow) --- 
            // ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ß‡∏≤‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÑ‡∏°‡πà‡∏Å‡∏¥‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞
            ctx.shadowColor = "rgba(0, 0, 0, 0.25)"; 
            ctx.shadowBlur = 12; 
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 4;

            // --- 2. ‡∏Å‡∏•‡∏µ‡∏ö‡∏î‡∏≠‡∏Å ---
            // ‡πÑ‡∏•‡πà‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏°‡∏∏‡∏Å
            const petalGradient = ctx.createRadialGradient(0,0, 5, 0,0, 30);
            petalGradient.addColorStop(0, "#E8E8E8");  // ‡∏Å‡∏•‡∏≤‡∏á‡πÜ ‡πÄ‡∏ó‡∏≤‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á
            petalGradient.addColorStop(0.2, "#FFFFFF"); // ‡∏Ç‡∏≤‡∏ß‡∏à‡∏±‡πä‡∏ß‡∏∞
            petalGradient.addColorStop(1, "#FFFFFF");   

            ctx.fillStyle = petalGradient;
            
            // ‡∏ß‡∏≤‡∏î‡∏Å‡∏•‡∏µ‡∏ö
            const drawLayer = (count, length, width, angleOffset) => {
                ctx.save();
                ctx.rotate(angleOffset);
                for (let i = 0; i < count; i++) {
                    ctx.save();
                    ctx.rotate((Math.PI * 2 * i) / count);
                    ctx.beginPath();
                    ctx.moveTo(0, 0);
                    // ‡∏Å‡∏•‡∏µ‡∏ö‡∏°‡∏ô‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ä‡πâ‡∏≠‡∏ô
                    ctx.bezierCurveTo(width/1.5, -length/2, width, -length, 0, -length);
                    ctx.bezierCurveTo(-width, -length, -width/1.5, -length/2, 0, 0);
                    ctx.fill();
                    // ‡πÑ‡∏°‡πà‡∏ï‡∏±‡∏î‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏¢‡∏Å‡∏°‡∏¥‡∏ï‡∏¥‡πÅ‡∏ó‡∏ô ‡∏î‡∏π‡πÅ‡∏û‡∏á‡∏Å‡∏ß‡πà‡∏≤
                    ctx.restore();
                }
                ctx.restore();
            };

            const numPetals = 18;
            drawLayer(numPetals, 28, 6.5, 0); // ‡∏ä‡∏±‡πâ‡∏ô‡∏ô‡∏≠‡∏Å
            drawLayer(numPetals, 23, 5.0, Math.PI / numPetals); // ‡∏ä‡∏±‡πâ‡∏ô‡πÉ‡∏ô

            // --- 3. ‡πÄ‡∏Å‡∏™‡∏£ (‡πÄ‡∏≠‡∏≤‡πÄ‡∏á‡∏≤‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Å‡∏™‡∏£) ---
            ctx.shadowColor = "transparent";
            ctx.shadowBlur = 0;
            
            ctx.beginPath();
            ctx.arc(0, 0, 6.5, 0, Math.PI * 2);
            
            const centerGrad = ctx.createRadialGradient(0, 0, 0, 0, 0, 6.5);
            centerGrad.addColorStop(0, "#556B2F");   // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ç‡∏µ‡πâ‡∏°‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏°‡πÜ ‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏•‡∏∂‡∏Å
            centerGrad.addColorStop(0.3, "#FFD700"); // ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏≠‡∏á
            centerGrad.addColorStop(1, "#FFA500");   // ‡∏™‡πâ‡∏°
            
            ctx.fillStyle = centerGrad;
            ctx.fill();
            
            // Texture ‡πÄ‡∏Å‡∏™‡∏£
            ctx.fillStyle = "rgba(0,0,0, 0.2)"; 
            for(let k=0; k<12; k++) {
                let angle = Math.random() * Math.PI * 2;
                let r = Math.random() * 5.5;
                ctx.beginPath();
                ctx.arc(r * Math.cos(angle), r * Math.sin(angle), 0.6, 0, Math.PI*2);
                ctx.fill();
            }

            ctx.restore();
        }

        function drawText() {
            ctx.save();
            
            // ‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏ô‡∏ï‡πå Great Vibes ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô
            const fontSize = Math.min(width / 10, 70); 
            ctx.font = `${fontSize}px 'Great Vibes', cursive`;
            ctx.textAlign = "center";
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á Gradient ‡πÑ‡∏•‡πà‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ (‡∏ä‡∏°‡∏û‡∏π‡πÄ‡∏Ç‡πâ‡∏° -> ‡πÅ‡∏î‡∏á‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏Å‡∏±‡∏ô‡∏î‡∏µ)
            const textGradient = ctx.createLinearGradient(0, height - 120, 0, height - 40);
            textGradient.addColorStop(0, "#FF69B4"); // ‡∏ä‡∏°‡∏û‡∏π Hot Pink
            textGradient.addColorStop(0.5, "#DB7093"); // ‡∏ä‡∏°‡∏û‡∏π Pale Violet Red
            textGradient.addColorStop(1, "#C71585"); // ‡πÅ‡∏î‡∏á Medium Violet Red
            
            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏á‡∏≤‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏ü‡∏∏‡πâ‡∏á‡πÜ ‡∏£‡∏≠‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏î‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ä‡∏°‡∏û‡∏π
            ctx.shadowColor = "rgba(255, 255, 255, 0.9)";
            ctx.shadowBlur = 15;
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            
            ctx.fillStyle = textGradient;
            ctx.fillText("Happy Valentine's Day", cx, height - 80);
            
            // ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏≠‡∏á
            ctx.shadowBlur = 0; // ‡∏õ‡∏¥‡∏î‡πÄ‡∏á‡∏≤‡∏ü‡∏∏‡πâ‡∏á
            ctx.font = `300 ${fontSize * 0.35}px 'Sarabun', sans-serif`;
            ctx.fillStyle = "#A05275"; // ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏≠‡∏°‡∏°‡πà‡∏ß‡∏á ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏´‡∏£‡∏π
            ctx.fillText("For You", cx, height - 35);
            
            ctx.restore();
        }

        // --- Main Drawing Function (Static) ---

        function drawStaticScene() {
            // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏à‡∏≠
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const bx = cx;
            const by = cy + 60 * scaleFactor;

            // 1. ‡∏Å‡πâ‡∏≤‡∏ô (Layer ‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î)
            drawStemHandle(bx, by + 100 * scaleFactor, scaleFactor);

            // 2. ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏´‡πà‡∏≠
            drawWrappingPaper(bx, by, scaleFactor);

            // 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ‡πÅ‡∏•‡∏∞‡πÉ‡∏ö‡πÑ‡∏°‡πâ
            let elements = [];
            const count = 150; // ‡∏•‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡∏≠‡∏Å‡πÇ‡∏ä‡∏ß‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà

            for(let i=0; i<count; i++) {
                const angle = Math.random() * Math.PI * 2;
                const dist = Math.sqrt(Math.random()); 
                const r = dist * 180; 
                
                const fx = r * Math.cos(angle) * 1.3; 
                const fy = r * Math.sin(angle) * 0.9 - 120; 

                // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ö‡πÑ‡∏°‡πâ‡πÅ‡∏ã‡∏°‡πÜ ‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢
                if (Math.random() > 0.7) {
                      elements.push({
                        type: 'leaf',
                        x: fx,
                        y: fy,
                        scale: 0.6 + Math.random() * 0.4,
                        rotation: Math.random() * Math.PI * 2
                    });
                }

                elements.push({
                    type: 'flower',
                    x: fx,
                    y: fy,
                    scale: 0.85 + Math.random() * 0.5, // ‡∏î‡∏≠‡∏Å‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∞‡πÉ‡∏à
                    rotation: Math.random() * Math.PI
                });
            }

            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ö‡∏ô‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á (‡∏î‡∏≠‡∏Å‡∏ö‡∏ô‡∏ß‡∏≤‡∏î‡∏Å‡πà‡∏≠‡∏ô = ‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏•‡∏±‡∏á)
            // ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏° Y (Y ‡∏ô‡πâ‡∏≠‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏•‡∏±‡∏á Y ‡∏°‡∏≤‡∏Å‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤)
            elements.sort((a, b) => a.y - b.y);

            // 4. ‡∏ß‡∏≤‡∏î‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            elements.forEach(el => {
                const finalX = bx + el.x * scaleFactor;
                const finalY = by + el.y * scaleFactor;
                
                if (el.type === 'leaf') {
                    drawLeaf(finalX, finalY, el.scale * scaleFactor, el.rotation);
                } else {
                    drawDaisy(finalX, finalY, el.scale * scaleFactor, el.rotation);
                }
            });

            // 5. ‡πÇ‡∏ö‡∏ß‡πå
            drawRibbon(bx, by + 130 * scaleFactor, scaleFactor);
            
            // 6. ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            drawText();
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
        window.onload = () => {
            resize(); // resize ‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å drawStaticScene ‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á
        };

    </script>
</body>
</html>